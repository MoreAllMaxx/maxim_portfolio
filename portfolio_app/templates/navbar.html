{% load bootstrap4 %}
{% load i18n %}
{% load static %}
{% load cache %}

{% get_current_language as LANGUAGE_CODE %}
{% cache 240 navbar LANGUAGE_CODE %}
<style>

    * {
        box-sizing: border-box;
    }

    .navbar {
        position: relative;
        min-height: 50px;
        border: 1px solid transparent;
    }

    .navbar button {
        background-color: white;
        padding: 5px;
    }

    .form-group input{
        line-height: 25px;
    }

    #custom-btn-text {
        color: rgba(0, 0, 0, 1);
        font-size: large;
    }

    #language-changer {
        font-size: large;
        display: table;
    }

    #language-changer-select {
        height: 35px;
        margin-left: 5px;
        margin-right: 5px;
        border-color: #5bc0de;
        border-radius: 5px;
    }

    #logo {
        font-family: Roboto, Condensed, sans-serif;
        font-style: italic;
        font-size: 30px;
        margin-top: 4%;
        text-indent: 25px;
    }

</style>

<nav class="navbar navbar-expand-lg navbar-light bg-light mb-3">

    <div class="mr-auto">
        <p id="logo">{% trans 'Maxim Dontsov' %}</p>
    </div>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto d-flex flex-row flex-wrap justify-content-between">
            <li class="nav-item active m-2">
                <button type="button" class="btn btn-outline-info">
                    <a class="nav-link" id="custom-btn-text" href="{% url 'index' %}">{% trans 'Home' %}</a>
                </button>
            </li>
            <li class="nav-item active m-2">
                <button type="button" class="btn btn-outline-info">
                    <a class="nav-link" id="custom-btn-text" href="{% url 'about' %}">{% trans 'About' %}</a>
                </button>
            </li>
            <li class="nav-item active m-2">
                <button type="button" class="btn btn-outline-info">
                    <a class="nav-link" id="custom-btn-text" href="{% url 'contact' %}">{% trans 'Feedback' %}</a>
                </button>
            </li>
            <li class="nav-item active m-2">
                <button type="button" class="btn btn-outline-info">
                    <a class="nav-link" id="custom-btn-text"
                       href="{% static 'portfolio_app' %}/{% trans 'Resume_Dontsov_MP.pdf' %}">{% trans 'Resume' %}</a>
                </button>
            </li>
            <li class="nav-item active m-2">
                <form class="form-inline" id="language-changer" action="{% url 'set_language' %}" method="post">
                    <div class="form-group">
                        {% csrf_token %}
                        <label>{% trans 'Language: ' %}</label>
                        <select name="language" id="language-changer-select">
                            {% get_current_language as LANGUAGE_CODE %}
                            {% get_available_languages as LANGUAGES %}
                            {% get_language_info_list for LANGUAGES as languages %}
                            {% for language in languages %}
                                <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %}
                                        selected{% endif %}>
                                    {{ language.name_local }} ({{ language.code }})
                                </option>
                            {% endfor %}
                        </select>
                        <input type="submit" value=">">
                    </div>
                </form>
            </li>
        </ul>
    </div>
</nav>
{% endcache %}